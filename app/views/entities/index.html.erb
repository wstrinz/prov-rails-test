<h1>Listing entities</h1>

<table>
  <tr>
    <th>Subject</th>
    <th>Was generated by</th>
    <th>Was derived from</th>
    <th></th>
    <th></th>
    <th></th>
  </tr>

<% @entities.each do |entity| %>
  <tr>
    <td><%= entity.subject %></td>
    <td><%= link_to (entity.wasGeneratedBy.as(Activity).label || entity.wasGeneratedBy), entity.wasGeneratedBy.as(Activity) if entity.wasGeneratedBy%></td>
    <td><%= link_to (entity.wasDerivedFrom.first.as(Entity).label || entity.wasDerivedFrom.first), entity.wasDerivedFrom.first.as(Activity) if entity.wasDerivedFrom.first %></td>

    <td><%= link_to 'Show', entity %></td>
    <td><%= link_to 'Edit', edit_entity_path(entity) %></td>
    <td><%= link_to 'Destroy', entity, method: :delete, data: { confirm: 'Are you sure?' } %></td>
  </tr>
<% end %>
</table>

<br />

<%= link_to 'New Entity', new_entity_path %>
